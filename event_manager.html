<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 14.4.0"/>
    <title>event_manager API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .pdoc-alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:1rem center;margin-bottom:1rem;}.pdoc .pdoc-alert > *:last-child{margin-bottom:0;}.pdoc .pdoc-alert-note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>


            <h2>Contents</h2>
            <ul>
  <li><a href="#pyeventmanager">PyEventManager</a>
  <ul>
    <li><a href="#todo">Todo</a></li>
    <li><a href="#installation">Installation</a></li>
    <li><a href="#usage">Usage</a></li>
    <li><a href="#api-documentation">API Documentation</a></li>
  </ul></li>
</ul>



            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="class" href="#EventManager">EventManager</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#EventManager.on">on</a>
                        </li>
                        <li>
                                <a class="function" href="#EventManager.on_batch">on_batch</a>
                        </li>
                        <li>
                                <a class="function" href="#EventManager.schedule">schedule</a>
                        </li>
                        <li>
                                <a class="function" href="#EventManager.listeners">listeners</a>
                        </li>
                        <li>
                                <a class="function" href="#EventManager.emit">emit</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ForkType">ForkType</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#ForkType.THREAD">THREAD</a>
                        </li>
                        <li>
                                <a class="variable" href="#ForkType.PROCESS">PROCESS</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#QueueInterface">QueueInterface</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#QueueInterface.__init__">QueueInterface</a>
                        </li>
                        <li>
                                <a class="variable" href="#QueueInterface.last_updated">last_updated</a>
                        </li>
                        <li>
                                <a class="function" href="#QueueInterface.get_all">get_all</a>
                        </li>
                        <li>
                                <a class="function" href="#QueueInterface.put">put</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ProcessQueue">ProcessQueue</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ProcessQueue.__init__">ProcessQueue</a>
                        </li>
                        <li>
                                <a class="variable" href="#ProcessQueue.last_updated">last_updated</a>
                        </li>
                        <li>
                                <a class="function" href="#ProcessQueue.get_all">get_all</a>
                        </li>
                        <li>
                                <a class="function" href="#ProcessQueue.put">put</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ThreadQueue">ThreadQueue</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ThreadQueue.__init__">ThreadQueue</a>
                        </li>
                        <li>
                                <a class="variable" href="#ThreadQueue.last_updated">last_updated</a>
                        </li>
                        <li>
                                <a class="function" href="#ThreadQueue.get_all">get_all</a>
                        </li>
                        <li>
                                <a class="function" href="#ThreadQueue.put">put</a>
                        </li>
                </ul>

            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
event_manager    </h1>

                        <div class="docstring"><h1 id="pyeventmanager">PyEventManager</h1>

<p><a href="https://jeordyr.github.io/PyEventManager/">Read the Docs!</a></p>

<p>PyEventManager is a simple event-based routing package allowing code to be structured in a pseudo-decentralized manner.</p>

<p>Instead of calling functions directly, you can emit an event and have one or more functions (listeners) configured to listen on that event execute. These listeners can currently be run either in a new thread or a new process, allowing the creation of background tasks for long-running jobs off an API event, for example.</p>

<p>Wrapped listeners return a <a href="https://docs.python.org/3/library/concurrent.futures.html#concurrent.futures.Future">Future</a> that can be waited on to recieve the response(s) back from the listener.</p>

<p>There are multiple execution options when registering a listener:</p>

<ul>
<li><strong>Simple</strong>: Execute the function (listener) when the specified event is emitted.</li>
<li><strong>Batch</strong>: Batch up the data from mulitple event emissions until no new events occur for <code>interval</code> seconds, then execute the function with all of the received data.</li>
<li><strong>Scheduled</strong>: Run a function on an interval with no inputs.</li>
</ul>

<p>For each listener type, there are multiple execution options determining how the function will be executed; determined by <code>fork_type</code></p>

<ul>
<li><strong>Process(Default)</strong>: The listener is run in a new Process</li>
<li><strong>Thread</strong>: The listener is run in a new Thread</li>
</ul>

<hr />

<h2 id="todo">Todo</h2>

<ul>
<li>Clean up/improve docstrings</li>
<li>Add tests</li>
<li>Add support for async execution within an existing event loop</li>
<li>Add support for external data stores (redis, rabbitmq?, etc.) for persistence of event data / batching</li>
</ul>

<hr />

<h2 id="installation">Installation</h2>

<p>Install via <a href="https://pypi.python.org/pypi/pyeventmanager">pip</a></p>

<p><code>pip install pyeventmanager</code></p>

<hr />

<h2 id="usage">Usage</h2>

<h3 id="simple-listener">Simple Listener</h3>

<div class="pdoc-code codehilite">
<pre><span></span><code>    <span class="kn">from</span> <span class="nn">event_manager</span> <span class="kn">import</span> <span class="n">EventManager</span>

    <span class="n">em</span> <span class="o">=</span> <span class="n">EventManager</span><span class="p">()</span>

    <span class="c1"># Use a decorator to register a simple listener</span>

    <span class="nd">@em</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="n">event</span><span class="o">=</span><span class="s2">&quot;somecategory.event&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">handle_some_event</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">MyDataType</span><span class="p">):</span>
        <span class="o">...</span>

    <span class="c1"># Register a function to handle all events in the system</span>
    <span class="nd">@em</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="n">event</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">handle_all_events</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
        <span class="o">...</span>

    <span class="c1"># Register a function to handle all events for a category using wildcard</span>
    <span class="nd">@em</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="n">event</span><span class="o">=</span><span class="s2">&quot;somecategory.*&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">handle_all_somecategory_events</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
        <span class="o">...</span>

    <span class="c1"># Register a simple listener using callback syntax</span>
    <span class="k">def</span> <span class="nf">also_handle_some_event</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">MyDataType</span><span class="p">):</span>
        <span class="o">...</span>

    <span class="n">em</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="n">event</span><span class="o">=</span><span class="s2">&quot;somecategory.event&quot;</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="n">also_handle_some_event</span><span class="p">)</span>

    <span class="c1"># Emit an event passing data</span>
    <span class="c1">## *args, **kwargs are passed through to listener,</span>
    <span class="c1">##  so any fields can be used as long as the matching listener accepts the same</span>
    <span class="n">em</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">event</span><span class="o">=</span><span class="s2">&quot;somecategory.event&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">MyDataType</span><span class="p">(</span><span class="o">...</span><span class="p">))</span>

    <span class="c1"># Emit an event, wait for jobs to finish, and get the results</span>
    <span class="kn">from</span> <span class="nn">concurrent.futures</span> <span class="kn">import</span> <span class="n">wait</span>

    <span class="n">futures</span> <span class="o">=</span> <span class="n">em</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">event</span><span class="o">=</span><span class="s2">&quot;somecategory.event, data=MyDataType(...))</span>
    <span class="n">wait</span><span class="p">(</span><span class="n">futures</span><span class="p">)</span>

    <span class="n">results</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span><span class="o">.</span><span class="n">result</span><span class="p">()</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">futures</span><span class="p">]</span>
</code></pre>
</div>

<h3 id="simple-listener-with-threading">Simple Listener With Threading</h3>

<div class="pdoc-code codehilite">
<pre><span></span><code>    <span class="kn">from</span> <span class="nn">event_manager</span> <span class="kn">import</span> <span class="n">EventManager</span><span class="p">,</span> <span class="n">ForkType</span>

    <span class="n">em</span> <span class="o">=</span> <span class="n">EventManager</span><span class="p">()</span>

    <span class="c1"># Use Threading instead of Processing</span>
    <span class="nd">@em</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="n">event</span><span class="o">=</span><span class="s2">&quot;something.*&quot;</span><span class="p">,</span> <span class="n">fork_type</span><span class="o">=</span><span class="n"><a href="#ForkType.THREAD">ForkType.THREAD</a></span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">handle_something</span><span class="p">():</span>
        <span class="o">...</span>
</code></pre>
</div>

<h3 id="batch-listener">Batch Listener</h3>

<div class="pdoc-code codehilite">
<pre><span></span><code>    <span class="kn">from</span> <span class="nn">event_manager</span> <span class="kn">import</span> <span class="n">EventManager</span><span class="p">,</span> <span class="n">ForkType</span><span class="p">,</span> <span class="n">ThreadQueue</span>

    <span class="n">em</span> <span class="o">=</span> <span class="n">EventManager</span><span class="p">()</span>

    <span class="c1"># Batch all data for `category.some_event` until no new events occur for 60 seconds</span>
    <span class="nd">@em</span><span class="o">.</span><span class="n">on_batch</span><span class="p">(</span><span class="n">event</span><span class="o">=</span><span class="s2">&quot;category.some_event&quot;</span><span class="p">,</span> <span class="n">batch_idle_window</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">handle_some_event_batch</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">MyDataType</span><span class="p">]):</span>
        <span class="o">...</span>

    <span class="c1"># Same batch, using Threading.</span>
    <span class="c1"># The queue type will be auto-detected if not specified, but better to be explicit.</span>
    <span class="nd">@em</span><span class="o">.</span><span class="n">on</span><span class="p">(</span>
        <span class="n">event</span><span class="o">=</span><span class="s2">&quot;category.some_event&quot;</span><span class="p">,</span>
        <span class="n">fork_type</span><span class="o">=</span><span class="n"><a href="#ForkType.THREAD">ForkType.THREAD</a></span><span class="p">,</span>
        <span class="n">batch_idle_window</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span>
        <span class="n">queue_type</span><span class="o">=</span><span class="n">ThreadQueue</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">def</span> <span class="nf">handle_some_event_batch</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">MyDataType</span><span class="p">]):</span>
        <span class="o">...</span>

    <span class="c1"># Batch data until 30 seconds pass, or 20 events come through, whichever happends first</span>
    <span class="nd">@em</span><span class="o">.</span><span class="n">on_batch</span><span class="p">(</span><span class="n">event</span><span class="o">=</span><span class="s2">&quot;category.some_event&quot;</span><span class="p">,</span> <span class="n">batch_count</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">batch_window</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">handle_some_event_batch</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">MyDataType</span><span class="p">]):</span>
        <span class="o">...</span>
</code></pre>
</div>

<h3 id="scheduled-listener">Scheduled Listener</h3>

<p>Interval is defined using a <a href="https://docs.python.org/3/library/datetime.html#timedelta-objects">datetime.timedelta</a> object.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code>    <span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">timedelta</span>

    <span class="kn">from</span> <span class="nn">event_manager</span> <span class="kn">import</span> <span class="n">EventManager</span>

    <span class="n">em</span> <span class="o">=</span> <span class="n">EventManager</span><span class="p">()</span>

    <span class="c1"># Schedule a function to be run daily</span>
    <span class="nd">@em</span><span class="o">.</span><span class="n">schedule</span><span class="p">(</span><span class="n">interval</span><span class="o">=</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
    <span class="k">def</span> <span class="nf">run_daily</span><span class="p">():</span>
        <span class="o">...</span>

    <span class="c1"># Schedule a function to be run hourly</span>
    <span class="nd">@em</span><span class="o">.</span><span class="n">schedule</span><span class="p">(</span><span class="n">interval</span><span class="o">=</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
    <span class="k">def</span> <span class="nf">run_hourly</span><span class="p">():</span>
        <span class="o">...</span>
</code></pre>
</div>

<h3 id="using-a-custom-queue-for-batch-listener">Using A Custom Queue for Batch Listener</h3>

<div class="pdoc-code codehilite">
<pre><span></span><code>    <span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
    <span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span>

    <span class="kn">from</span> <span class="nn">event_manager</span> <span class="kn">import</span> <span class="n">EventManager</span><span class="p">,</span> <span class="n">ForkType</span><span class="p">,</span> <span class="n">QueueInterface</span>

    <span class="k">class</span> <span class="nc">MyCustomQueue</span><span class="p">(</span><span class="n">QueueInterface</span><span class="p">):</span>
        <span class="n">last_updated</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span>

        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">...</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">last_updated</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="n">length</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="o">...</span>
            <span class="k">return</span> <span class="n">length</span>

        <span class="k">def</span> <span class="nf">empty</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
            <span class="c1"># Check if the queue is empty</span>
            <span class="n">num_items</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="o">...</span>
            <span class="k">if</span> <span class="n">num_items</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>

            <span class="k">return</span> <span class="kc">True</span>

        <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
            <span class="c1"># Get an item from the queue</span>
            <span class="n">item</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="o">...</span>
            <span class="k">return</span> <span class="n">item</span>

        <span class="k">def</span> <span class="nf">get_all</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
            <span class="c1"># Get all items from the queue</span>
            <span class="n">items</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="o">...</span>
            <span class="k">return</span> <span class="n">items</span>

        <span class="k">def</span> <span class="nf">put</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
            <span class="c1"># Put item to queue</span>
            <span class="o">...</span>

    <span class="n">em</span> <span class="o">=</span> <span class="n">EventManager</span><span class="p">()</span>

    <span class="c1"># Add a batched listener and pass in our custom Queue implementation</span>
    <span class="nd">@em</span><span class="o">.</span><span class="n">on</span><span class="p">(</span>
        <span class="n">event</span><span class="o">=</span><span class="s2">&quot;category.some_event&quot;</span><span class="p">,</span>
        <span class="n">batch_idle_window</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span>
        <span class="n">queue_type</span><span class="o">=</span><span class="n">MyCustomQueue</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">def</span> <span class="nf">handle_batch_process</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Any</span><span class="p">]):</span>
        <span class="o">...</span>

    <span class="c1"># Add a batched listener configured to use Threading with our custom Queue implementation</span>
    <span class="nd">@em</span><span class="o">.</span><span class="n">on</span><span class="p">(</span>
        <span class="n">event</span><span class="o">=</span><span class="s2">&quot;category.some_event&quot;</span><span class="p">,</span>
        <span class="n">fork_type</span><span class="o">=</span><span class="n"><a href="#ForkType.THREAD">ForkType.THREAD</a></span><span class="p">,</span>
        <span class="n">batch_idle_window</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span>
        <span class="n">queue_type</span><span class="o">=</span><span class="n">MyCustomQueue</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">def</span> <span class="nf">handle_batch_process</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Any</span><span class="p">]):</span>
        <span class="o">...</span>
</code></pre>
</div>

<hr />

<h2 id="api-documentation">API Documentation</h2>
</div>

                        <input id="mod-event_manager-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-event_manager-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">1</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">2</span></a><span class="sd">.. include:: ../README.md</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos">3</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos">4</span></a>
</span><span id="L-5"><a href="#L-5"><span class="linenos">5</span></a><span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;EventManager&quot;</span><span class="p">,</span> <span class="s2">&quot;ForkType&quot;</span><span class="p">,</span> <span class="s2">&quot;QueueInterface&quot;</span><span class="p">,</span> <span class="s2">&quot;ProcessQueue&quot;</span><span class="p">,</span> <span class="s2">&quot;ThreadQueue&quot;</span><span class="p">]</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos">6</span></a><span class="kn">from</span> <span class="nn">.event_manager</span> <span class="kn">import</span> <span class="n">EventManager</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos">7</span></a><span class="kn">from</span> <span class="nn">.fork_types</span> <span class="kn">import</span> <span class="n">ForkType</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos">8</span></a><span class="kn">from</span> <span class="nn">.queues.base</span> <span class="kn">import</span> <span class="n">QueueInterface</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos">9</span></a><span class="kn">from</span> <span class="nn">.queues.memory</span> <span class="kn">import</span> <span class="n">ProcessQueue</span><span class="p">,</span> <span class="n">ThreadQueue</span>
</span></pre></div>


            </section>
                <section id="EventManager">
                            <input id="EventManager-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">EventManager</span>:

                <label class="view-source-button" for="EventManager-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#EventManager"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="EventManager-24"><a href="#EventManager-24"><span class="linenos"> 24</span></a><span class="k">class</span> <span class="nc">EventManager</span><span class="p">:</span>
</span><span id="EventManager-25"><a href="#EventManager-25"><span class="linenos"> 25</span></a>    <span class="n">_event_tree</span> <span class="o">=</span> <span class="n">Tree</span><span class="p">()</span>
</span><span id="EventManager-26"><a href="#EventManager-26"><span class="linenos"> 26</span></a>    <span class="n">_scheduled_listeners</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">ScheduledListener</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="EventManager-27"><a href="#EventManager-27"><span class="linenos"> 27</span></a>
</span><span id="EventManager-28"><a href="#EventManager-28"><span class="linenos"> 28</span></a>    <span class="nd">@classmethod</span>
</span><span id="EventManager-29"><a href="#EventManager-29"><span class="linenos"> 29</span></a>    <span class="k">def</span> <span class="nf">on</span><span class="p">(</span>
</span><span id="EventManager-30"><a href="#EventManager-30"><span class="linenos"> 30</span></a>        <span class="bp">cls</span><span class="p">,</span>
</span><span id="EventManager-31"><a href="#EventManager-31"><span class="linenos"> 31</span></a>        <span class="n">event</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="EventManager-32"><a href="#EventManager-32"><span class="linenos"> 32</span></a>        <span class="n">func</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="EventManager-33"><a href="#EventManager-33"><span class="linenos"> 33</span></a>        <span class="n">fork_type</span><span class="p">:</span> <span class="n">ForkType</span> <span class="o">=</span> <span class="n">ForkType</span><span class="o">.</span><span class="n">PROCESS</span><span class="p">,</span>
</span><span id="EventManager-34"><a href="#EventManager-34"><span class="linenos"> 34</span></a>    <span class="p">):</span>
</span><span id="EventManager-35"><a href="#EventManager-35"><span class="linenos"> 35</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="EventManager-36"><a href="#EventManager-36"><span class="linenos"> 36</span></a>            <span class="n">event</span> <span class="o">=</span> <span class="p">[</span><span class="n">event</span><span class="p">]</span>
</span><span id="EventManager-37"><a href="#EventManager-37"><span class="linenos"> 37</span></a>
</span><span id="EventManager-38"><a href="#EventManager-38"><span class="linenos"> 38</span></a>        <span class="k">def</span> <span class="nf">_on</span><span class="p">(</span><span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">:</span>
</span><span id="EventManager-39"><a href="#EventManager-39"><span class="linenos"> 39</span></a>            <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">event</span><span class="p">:</span>
</span><span id="EventManager-40"><a href="#EventManager-40"><span class="linenos"> 40</span></a>                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Registered function </span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> to run on </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2"> event.&quot;</span><span class="p">)</span>
</span><span id="EventManager-41"><a href="#EventManager-41"><span class="linenos"> 41</span></a>                <span class="bp">cls</span><span class="o">.</span><span class="n">_event_tree</span><span class="o">.</span><span class="n">add_data</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">e</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">Listener</span><span class="p">(</span><span class="n">func</span><span class="o">=</span><span class="n">func</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="n">e</span><span class="p">,</span> <span class="n">fork_type</span><span class="o">=</span><span class="n">fork_type</span><span class="p">))</span>
</span><span id="EventManager-42"><a href="#EventManager-42"><span class="linenos"> 42</span></a>
</span><span id="EventManager-43"><a href="#EventManager-43"><span class="linenos"> 43</span></a>            <span class="k">return</span> <span class="n">func</span>
</span><span id="EventManager-44"><a href="#EventManager-44"><span class="linenos"> 44</span></a>
</span><span id="EventManager-45"><a href="#EventManager-45"><span class="linenos"> 45</span></a>        <span class="k">return</span> <span class="n">_on</span><span class="p">(</span><span class="n">func</span><span class="p">)</span> <span class="k">if</span> <span class="n">func</span> <span class="k">else</span> <span class="n">_on</span>
</span><span id="EventManager-46"><a href="#EventManager-46"><span class="linenos"> 46</span></a>
</span><span id="EventManager-47"><a href="#EventManager-47"><span class="linenos"> 47</span></a>    <span class="nd">@classmethod</span>
</span><span id="EventManager-48"><a href="#EventManager-48"><span class="linenos"> 48</span></a>    <span class="k">def</span> <span class="nf">on_batch</span><span class="p">(</span>
</span><span id="EventManager-49"><a href="#EventManager-49"><span class="linenos"> 49</span></a>        <span class="bp">cls</span><span class="p">,</span>
</span><span id="EventManager-50"><a href="#EventManager-50"><span class="linenos"> 50</span></a>        <span class="n">event</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="EventManager-51"><a href="#EventManager-51"><span class="linenos"> 51</span></a>        <span class="n">func</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="EventManager-52"><a href="#EventManager-52"><span class="linenos"> 52</span></a>        <span class="n">fork_type</span><span class="p">:</span> <span class="n">ForkType</span> <span class="o">=</span> <span class="n">ForkType</span><span class="o">.</span><span class="n">PROCESS</span><span class="p">,</span>
</span><span id="EventManager-53"><a href="#EventManager-53"><span class="linenos"> 53</span></a>        <span class="n">batch_count</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="EventManager-54"><a href="#EventManager-54"><span class="linenos"> 54</span></a>        <span class="n">batch_idle_window</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="EventManager-55"><a href="#EventManager-55"><span class="linenos"> 55</span></a>        <span class="n">batch_window</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">30</span><span class="p">,</span>
</span><span id="EventManager-56"><a href="#EventManager-56"><span class="linenos"> 56</span></a>        <span class="n">queue_type</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">QueueInterface</span><span class="p">]</span> <span class="o">=</span> <span class="n">ProcessQueue</span><span class="p">,</span>
</span><span id="EventManager-57"><a href="#EventManager-57"><span class="linenos"> 57</span></a>    <span class="p">):</span>
</span><span id="EventManager-58"><a href="#EventManager-58"><span class="linenos"> 58</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="EventManager-59"><a href="#EventManager-59"><span class="linenos"> 59</span></a>            <span class="n">event</span> <span class="o">=</span> <span class="p">[</span><span class="n">event</span><span class="p">]</span>
</span><span id="EventManager-60"><a href="#EventManager-60"><span class="linenos"> 60</span></a>
</span><span id="EventManager-61"><a href="#EventManager-61"><span class="linenos"> 61</span></a>        <span class="k">def</span> <span class="nf">_on_batch</span><span class="p">(</span><span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">:</span>
</span><span id="EventManager-62"><a href="#EventManager-62"><span class="linenos"> 62</span></a>            <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">event</span><span class="p">:</span>
</span><span id="EventManager-63"><a href="#EventManager-63"><span class="linenos"> 63</span></a>                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Registered function </span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> to run on </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2"> event.&quot;</span><span class="p">)</span>
</span><span id="EventManager-64"><a href="#EventManager-64"><span class="linenos"> 64</span></a>                <span class="bp">cls</span><span class="o">.</span><span class="n">_event_tree</span><span class="o">.</span><span class="n">add_data</span><span class="p">(</span>
</span><span id="EventManager-65"><a href="#EventManager-65"><span class="linenos"> 65</span></a>                    <span class="n">name</span><span class="o">=</span><span class="n">e</span><span class="p">,</span>
</span><span id="EventManager-66"><a href="#EventManager-66"><span class="linenos"> 66</span></a>                    <span class="n">data</span><span class="o">=</span><span class="n">BatchListener</span><span class="p">(</span>
</span><span id="EventManager-67"><a href="#EventManager-67"><span class="linenos"> 67</span></a>                        <span class="n">event</span><span class="o">=</span><span class="n">e</span><span class="p">,</span>
</span><span id="EventManager-68"><a href="#EventManager-68"><span class="linenos"> 68</span></a>                        <span class="n">func</span><span class="o">=</span><span class="n">func</span><span class="p">,</span>
</span><span id="EventManager-69"><a href="#EventManager-69"><span class="linenos"> 69</span></a>                        <span class="n">fork_type</span><span class="o">=</span><span class="n">fork_type</span><span class="p">,</span>
</span><span id="EventManager-70"><a href="#EventManager-70"><span class="linenos"> 70</span></a>                        <span class="n">batch_count</span><span class="o">=</span><span class="n">batch_count</span><span class="p">,</span>
</span><span id="EventManager-71"><a href="#EventManager-71"><span class="linenos"> 71</span></a>                        <span class="n">batch_idle_window</span><span class="o">=</span><span class="n">batch_idle_window</span><span class="p">,</span>
</span><span id="EventManager-72"><a href="#EventManager-72"><span class="linenos"> 72</span></a>                        <span class="n">batch_window</span><span class="o">=</span><span class="n">batch_window</span><span class="p">,</span>
</span><span id="EventManager-73"><a href="#EventManager-73"><span class="linenos"> 73</span></a>                        <span class="n">queue_type</span><span class="o">=</span><span class="n">queue_type</span><span class="p">,</span>
</span><span id="EventManager-74"><a href="#EventManager-74"><span class="linenos"> 74</span></a>                    <span class="p">),</span>
</span><span id="EventManager-75"><a href="#EventManager-75"><span class="linenos"> 75</span></a>                <span class="p">)</span>
</span><span id="EventManager-76"><a href="#EventManager-76"><span class="linenos"> 76</span></a>
</span><span id="EventManager-77"><a href="#EventManager-77"><span class="linenos"> 77</span></a>            <span class="k">return</span> <span class="n">func</span>
</span><span id="EventManager-78"><a href="#EventManager-78"><span class="linenos"> 78</span></a>
</span><span id="EventManager-79"><a href="#EventManager-79"><span class="linenos"> 79</span></a>        <span class="k">return</span> <span class="n">_on_batch</span><span class="p">(</span><span class="n">func</span><span class="p">)</span> <span class="k">if</span> <span class="n">func</span> <span class="k">else</span> <span class="n">_on_batch</span>
</span><span id="EventManager-80"><a href="#EventManager-80"><span class="linenos"> 80</span></a>
</span><span id="EventManager-81"><a href="#EventManager-81"><span class="linenos"> 81</span></a>    <span class="nd">@classmethod</span>
</span><span id="EventManager-82"><a href="#EventManager-82"><span class="linenos"> 82</span></a>    <span class="k">def</span> <span class="nf">schedule</span><span class="p">(</span>
</span><span id="EventManager-83"><a href="#EventManager-83"><span class="linenos"> 83</span></a>        <span class="bp">cls</span><span class="p">,</span>
</span><span id="EventManager-84"><a href="#EventManager-84"><span class="linenos"> 84</span></a>        <span class="n">interval</span><span class="p">:</span> <span class="n">timedelta</span><span class="p">,</span>
</span><span id="EventManager-85"><a href="#EventManager-85"><span class="linenos"> 85</span></a>        <span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="kc">None</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="EventManager-86"><a href="#EventManager-86"><span class="linenos"> 86</span></a>        <span class="n">fork_type</span><span class="p">:</span> <span class="n">ForkType</span> <span class="o">=</span> <span class="n">ForkType</span><span class="o">.</span><span class="n">PROCESS</span><span class="p">,</span>
</span><span id="EventManager-87"><a href="#EventManager-87"><span class="linenos"> 87</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">:</span>
</span><span id="EventManager-88"><a href="#EventManager-88"><span class="linenos"> 88</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="EventManager-89"><a href="#EventManager-89"><span class="linenos"> 89</span></a><span class="sd">        Registers a scheduled function that will be executed on the specified interval.</span>
</span><span id="EventManager-90"><a href="#EventManager-90"><span class="linenos"> 90</span></a>
</span><span id="EventManager-91"><a href="#EventManager-91"><span class="linenos"> 91</span></a><span class="sd">        Args:</span>
</span><span id="EventManager-92"><a href="#EventManager-92"><span class="linenos"> 92</span></a><span class="sd">            interval (timedelta): Timedelta object specifying the interval to run the function</span>
</span><span id="EventManager-93"><a href="#EventManager-93"><span class="linenos"> 93</span></a><span class="sd">            func (Callable): Function to call on a schedule</span>
</span><span id="EventManager-94"><a href="#EventManager-94"><span class="linenos"> 94</span></a><span class="sd">            fork_type (ForkType, optional): How the function should be run, either in a new Thread or new Process.</span>
</span><span id="EventManager-95"><a href="#EventManager-95"><span class="linenos"> 95</span></a><span class="sd">                                            Defaults to ForkType.PROCESS.</span>
</span><span id="EventManager-96"><a href="#EventManager-96"><span class="linenos"> 96</span></a><span class="sd">        Returns:</span>
</span><span id="EventManager-97"><a href="#EventManager-97"><span class="linenos"> 97</span></a><span class="sd">            Callable: Returns the registered function, for use in decorators.</span>
</span><span id="EventManager-98"><a href="#EventManager-98"><span class="linenos"> 98</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="EventManager-99"><a href="#EventManager-99"><span class="linenos"> 99</span></a>
</span><span id="EventManager-100"><a href="#EventManager-100"><span class="linenos">100</span></a>        <span class="k">def</span> <span class="nf">schedule</span><span class="p">(</span><span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">:</span>
</span><span id="EventManager-101"><a href="#EventManager-101"><span class="linenos">101</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Scheduling </span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> to run every </span><span class="si">{</span><span class="n">interval</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span><span class="si">}</span><span class="s2"> seconds.&quot;</span><span class="p">)</span>
</span><span id="EventManager-102"><a href="#EventManager-102"><span class="linenos">102</span></a>            <span class="n">listener</span> <span class="o">=</span> <span class="n">ScheduledListener</span><span class="p">(</span><span class="n">interval</span><span class="o">=</span><span class="n">interval</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="n">func</span><span class="p">,</span> <span class="n">fork_type</span><span class="o">=</span><span class="n">fork_type</span><span class="p">)</span>
</span><span id="EventManager-103"><a href="#EventManager-103"><span class="linenos">103</span></a>            <span class="n">listener</span><span class="p">()</span>
</span><span id="EventManager-104"><a href="#EventManager-104"><span class="linenos">104</span></a>            <span class="bp">cls</span><span class="o">.</span><span class="n">_scheduled_listeners</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">listener</span><span class="p">)</span>
</span><span id="EventManager-105"><a href="#EventManager-105"><span class="linenos">105</span></a>            <span class="k">return</span> <span class="n">func</span>
</span><span id="EventManager-106"><a href="#EventManager-106"><span class="linenos">106</span></a>
</span><span id="EventManager-107"><a href="#EventManager-107"><span class="linenos">107</span></a>        <span class="k">return</span> <span class="n">schedule</span><span class="p">(</span><span class="n">func</span><span class="p">)</span> <span class="k">if</span> <span class="n">func</span> <span class="k">else</span> <span class="n">schedule</span>
</span><span id="EventManager-108"><a href="#EventManager-108"><span class="linenos">108</span></a>
</span><span id="EventManager-109"><a href="#EventManager-109"><span class="linenos">109</span></a>    <span class="nd">@classmethod</span>
</span><span id="EventManager-110"><a href="#EventManager-110"><span class="linenos">110</span></a>    <span class="k">def</span> <span class="nf">listeners</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Callable</span><span class="p">]:</span>
</span><span id="EventManager-111"><a href="#EventManager-111"><span class="linenos">111</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="EventManager-112"><a href="#EventManager-112"><span class="linenos">112</span></a><span class="sd">        Returns all functions that are registered to an event.</span>
</span><span id="EventManager-113"><a href="#EventManager-113"><span class="linenos">113</span></a>
</span><span id="EventManager-114"><a href="#EventManager-114"><span class="linenos">114</span></a><span class="sd">        Args:</span>
</span><span id="EventManager-115"><a href="#EventManager-115"><span class="linenos">115</span></a><span class="sd">            event (str): Event to get listeners for.</span>
</span><span id="EventManager-116"><a href="#EventManager-116"><span class="linenos">116</span></a>
</span><span id="EventManager-117"><a href="#EventManager-117"><span class="linenos">117</span></a><span class="sd">        Returns:</span>
</span><span id="EventManager-118"><a href="#EventManager-118"><span class="linenos">118</span></a><span class="sd">            list[Callable]: List of functions registered to the provided event.</span>
</span><span id="EventManager-119"><a href="#EventManager-119"><span class="linenos">119</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="EventManager-120"><a href="#EventManager-120"><span class="linenos">120</span></a>        <span class="k">return</span> <span class="p">[</span><span class="n">listener</span><span class="o">.</span><span class="n">func</span> <span class="k">for</span> <span class="n">listener</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_event_tree</span><span class="o">.</span><span class="n">find_data</span><span class="p">(</span><span class="n">event</span><span class="p">)]</span>
</span><span id="EventManager-121"><a href="#EventManager-121"><span class="linenos">121</span></a>
</span><span id="EventManager-122"><a href="#EventManager-122"><span class="linenos">122</span></a>    <span class="nd">@classmethod</span>
</span><span id="EventManager-123"><a href="#EventManager-123"><span class="linenos">123</span></a>    <span class="k">def</span> <span class="nf">emit</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Future</span><span class="p">]:</span>
</span><span id="EventManager-124"><a href="#EventManager-124"><span class="linenos">124</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="EventManager-125"><a href="#EventManager-125"><span class="linenos">125</span></a><span class="sd">        Emit an event into the system, calling all functions listening for the provided event.</span>
</span><span id="EventManager-126"><a href="#EventManager-126"><span class="linenos">126</span></a>
</span><span id="EventManager-127"><a href="#EventManager-127"><span class="linenos">127</span></a><span class="sd">        Args:</span>
</span><span id="EventManager-128"><a href="#EventManager-128"><span class="linenos">128</span></a><span class="sd">            event (str): Event to emit into the system.</span>
</span><span id="EventManager-129"><a href="#EventManager-129"><span class="linenos">129</span></a>
</span><span id="EventManager-130"><a href="#EventManager-130"><span class="linenos">130</span></a><span class="sd">        Returns:</span>
</span><span id="EventManager-131"><a href="#EventManager-131"><span class="linenos">131</span></a><span class="sd">            list[Future]: List of futures from the executed listeners.</span>
</span><span id="EventManager-132"><a href="#EventManager-132"><span class="linenos">132</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="EventManager-133"><a href="#EventManager-133"><span class="linenos">133</span></a>        <span class="n">listeners</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_event_tree</span><span class="o">.</span><span class="n">find_data</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">event</span><span class="p">)</span>
</span><span id="EventManager-134"><a href="#EventManager-134"><span class="linenos">134</span></a>
</span><span id="EventManager-135"><a href="#EventManager-135"><span class="linenos">135</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">event</span><span class="si">}</span><span class="s2"> event emitted, executing on </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">listeners</span><span class="p">)</span><span class="si">}</span><span class="s2"> listener functions&quot;</span><span class="p">)</span>
</span><span id="EventManager-136"><a href="#EventManager-136"><span class="linenos">136</span></a>
</span><span id="EventManager-137"><a href="#EventManager-137"><span class="linenos">137</span></a>        <span class="n">futures</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="EventManager-138"><a href="#EventManager-138"><span class="linenos">138</span></a>
</span><span id="EventManager-139"><a href="#EventManager-139"><span class="linenos">139</span></a>        <span class="c1"># call listeners</span>
</span><span id="EventManager-140"><a href="#EventManager-140"><span class="linenos">140</span></a>        <span class="k">for</span> <span class="n">listener</span> <span class="ow">in</span> <span class="n">listeners</span><span class="p">:</span>
</span><span id="EventManager-141"><a href="#EventManager-141"><span class="linenos">141</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="EventManager-142"><a href="#EventManager-142"><span class="linenos">142</span></a>                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">listener</span><span class="p">,</span> <span class="n">BatchListener</span><span class="p">):</span>
</span><span id="EventManager-143"><a href="#EventManager-143"><span class="linenos">143</span></a>                    <span class="k">if</span> <span class="s2">&quot;data&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="EventManager-144"><a href="#EventManager-144"><span class="linenos">144</span></a>                        <span class="n">futures</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">listener</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]))</span>
</span><span id="EventManager-145"><a href="#EventManager-145"><span class="linenos">145</span></a>                    <span class="k">else</span><span class="p">:</span>
</span><span id="EventManager-146"><a href="#EventManager-146"><span class="linenos">146</span></a>                        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;BatchListener listener called without data.&quot;</span><span class="p">)</span>
</span><span id="EventManager-147"><a href="#EventManager-147"><span class="linenos">147</span></a>                        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;BatchListener listener called without data.&quot;</span><span class="p">)</span>
</span><span id="EventManager-148"><a href="#EventManager-148"><span class="linenos">148</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="EventManager-149"><a href="#EventManager-149"><span class="linenos">149</span></a>                    <span class="n">futures</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">listener</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
</span><span id="EventManager-150"><a href="#EventManager-150"><span class="linenos">150</span></a>            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="EventManager-151"><a href="#EventManager-151"><span class="linenos">151</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Exception in emit: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="EventManager-152"><a href="#EventManager-152"><span class="linenos">152</span></a>                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error executing listener </span><span class="si">{</span><span class="n">listener</span><span class="o">.</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> for event </span><span class="si">{</span><span class="n">event</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</span><span id="EventManager-153"><a href="#EventManager-153"><span class="linenos">153</span></a>                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span><span id="EventManager-154"><a href="#EventManager-154"><span class="linenos">154</span></a>
</span><span id="EventManager-155"><a href="#EventManager-155"><span class="linenos">155</span></a>        <span class="k">return</span> <span class="n">futures</span>
</span></pre></div>


    

                            <div id="EventManager.on" class="classattr">
                                        <input id="EventManager.on-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@classmethod</div>

        <span class="def">def</span>
        <span class="name">on</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">cls</span>,</span><span class="param">	<span class="n">event</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">func</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Callable</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	fork_type: <a href="#ForkType">ForkType</a> = &lt;<a href="#ForkType.PROCESS">ForkType.PROCESS</a>: &lt;class &#x27;threading.Thread&#x27;&gt;&gt;</span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="EventManager.on-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#EventManager.on"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="EventManager.on-28"><a href="#EventManager.on-28"><span class="linenos">28</span></a>    <span class="nd">@classmethod</span>
</span><span id="EventManager.on-29"><a href="#EventManager.on-29"><span class="linenos">29</span></a>    <span class="k">def</span> <span class="nf">on</span><span class="p">(</span>
</span><span id="EventManager.on-30"><a href="#EventManager.on-30"><span class="linenos">30</span></a>        <span class="bp">cls</span><span class="p">,</span>
</span><span id="EventManager.on-31"><a href="#EventManager.on-31"><span class="linenos">31</span></a>        <span class="n">event</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="EventManager.on-32"><a href="#EventManager.on-32"><span class="linenos">32</span></a>        <span class="n">func</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="EventManager.on-33"><a href="#EventManager.on-33"><span class="linenos">33</span></a>        <span class="n">fork_type</span><span class="p">:</span> <span class="n">ForkType</span> <span class="o">=</span> <span class="n">ForkType</span><span class="o">.</span><span class="n">PROCESS</span><span class="p">,</span>
</span><span id="EventManager.on-34"><a href="#EventManager.on-34"><span class="linenos">34</span></a>    <span class="p">):</span>
</span><span id="EventManager.on-35"><a href="#EventManager.on-35"><span class="linenos">35</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="EventManager.on-36"><a href="#EventManager.on-36"><span class="linenos">36</span></a>            <span class="n">event</span> <span class="o">=</span> <span class="p">[</span><span class="n">event</span><span class="p">]</span>
</span><span id="EventManager.on-37"><a href="#EventManager.on-37"><span class="linenos">37</span></a>
</span><span id="EventManager.on-38"><a href="#EventManager.on-38"><span class="linenos">38</span></a>        <span class="k">def</span> <span class="nf">_on</span><span class="p">(</span><span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">:</span>
</span><span id="EventManager.on-39"><a href="#EventManager.on-39"><span class="linenos">39</span></a>            <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">event</span><span class="p">:</span>
</span><span id="EventManager.on-40"><a href="#EventManager.on-40"><span class="linenos">40</span></a>                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Registered function </span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> to run on </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2"> event.&quot;</span><span class="p">)</span>
</span><span id="EventManager.on-41"><a href="#EventManager.on-41"><span class="linenos">41</span></a>                <span class="bp">cls</span><span class="o">.</span><span class="n">_event_tree</span><span class="o">.</span><span class="n">add_data</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">e</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">Listener</span><span class="p">(</span><span class="n">func</span><span class="o">=</span><span class="n">func</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="n">e</span><span class="p">,</span> <span class="n">fork_type</span><span class="o">=</span><span class="n">fork_type</span><span class="p">))</span>
</span><span id="EventManager.on-42"><a href="#EventManager.on-42"><span class="linenos">42</span></a>
</span><span id="EventManager.on-43"><a href="#EventManager.on-43"><span class="linenos">43</span></a>            <span class="k">return</span> <span class="n">func</span>
</span><span id="EventManager.on-44"><a href="#EventManager.on-44"><span class="linenos">44</span></a>
</span><span id="EventManager.on-45"><a href="#EventManager.on-45"><span class="linenos">45</span></a>        <span class="k">return</span> <span class="n">_on</span><span class="p">(</span><span class="n">func</span><span class="p">)</span> <span class="k">if</span> <span class="n">func</span> <span class="k">else</span> <span class="n">_on</span>
</span></pre></div>


    

                            </div>
                            <div id="EventManager.on_batch" class="classattr">
                                        <input id="EventManager.on_batch-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@classmethod</div>

        <span class="def">def</span>
        <span class="name">on_batch</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">cls</span>,</span><span class="param">	<span class="n">event</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">func</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Callable</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	fork_type: <a href="#ForkType">ForkType</a> = &lt;<a href="#ForkType.PROCESS">ForkType.PROCESS</a>: &lt;class &#x27;threading.Thread&#x27;&gt;&gt;,</span><span class="param">	<span class="n">batch_count</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>,</span><span class="param">	<span class="n">batch_idle_window</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>,</span><span class="param">	<span class="n">batch_window</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">30</span>,</span><span class="param">	queue_type: type[<a href="#QueueInterface">QueueInterface</a>] = &lt;class &#x27;<a href="#ProcessQueue">ProcessQueue</a>&#x27;&gt;</span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="EventManager.on_batch-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#EventManager.on_batch"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="EventManager.on_batch-47"><a href="#EventManager.on_batch-47"><span class="linenos">47</span></a>    <span class="nd">@classmethod</span>
</span><span id="EventManager.on_batch-48"><a href="#EventManager.on_batch-48"><span class="linenos">48</span></a>    <span class="k">def</span> <span class="nf">on_batch</span><span class="p">(</span>
</span><span id="EventManager.on_batch-49"><a href="#EventManager.on_batch-49"><span class="linenos">49</span></a>        <span class="bp">cls</span><span class="p">,</span>
</span><span id="EventManager.on_batch-50"><a href="#EventManager.on_batch-50"><span class="linenos">50</span></a>        <span class="n">event</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="EventManager.on_batch-51"><a href="#EventManager.on_batch-51"><span class="linenos">51</span></a>        <span class="n">func</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="EventManager.on_batch-52"><a href="#EventManager.on_batch-52"><span class="linenos">52</span></a>        <span class="n">fork_type</span><span class="p">:</span> <span class="n">ForkType</span> <span class="o">=</span> <span class="n">ForkType</span><span class="o">.</span><span class="n">PROCESS</span><span class="p">,</span>
</span><span id="EventManager.on_batch-53"><a href="#EventManager.on_batch-53"><span class="linenos">53</span></a>        <span class="n">batch_count</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="EventManager.on_batch-54"><a href="#EventManager.on_batch-54"><span class="linenos">54</span></a>        <span class="n">batch_idle_window</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="EventManager.on_batch-55"><a href="#EventManager.on_batch-55"><span class="linenos">55</span></a>        <span class="n">batch_window</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">30</span><span class="p">,</span>
</span><span id="EventManager.on_batch-56"><a href="#EventManager.on_batch-56"><span class="linenos">56</span></a>        <span class="n">queue_type</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">QueueInterface</span><span class="p">]</span> <span class="o">=</span> <span class="n">ProcessQueue</span><span class="p">,</span>
</span><span id="EventManager.on_batch-57"><a href="#EventManager.on_batch-57"><span class="linenos">57</span></a>    <span class="p">):</span>
</span><span id="EventManager.on_batch-58"><a href="#EventManager.on_batch-58"><span class="linenos">58</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="EventManager.on_batch-59"><a href="#EventManager.on_batch-59"><span class="linenos">59</span></a>            <span class="n">event</span> <span class="o">=</span> <span class="p">[</span><span class="n">event</span><span class="p">]</span>
</span><span id="EventManager.on_batch-60"><a href="#EventManager.on_batch-60"><span class="linenos">60</span></a>
</span><span id="EventManager.on_batch-61"><a href="#EventManager.on_batch-61"><span class="linenos">61</span></a>        <span class="k">def</span> <span class="nf">_on_batch</span><span class="p">(</span><span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">:</span>
</span><span id="EventManager.on_batch-62"><a href="#EventManager.on_batch-62"><span class="linenos">62</span></a>            <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">event</span><span class="p">:</span>
</span><span id="EventManager.on_batch-63"><a href="#EventManager.on_batch-63"><span class="linenos">63</span></a>                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Registered function </span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> to run on </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2"> event.&quot;</span><span class="p">)</span>
</span><span id="EventManager.on_batch-64"><a href="#EventManager.on_batch-64"><span class="linenos">64</span></a>                <span class="bp">cls</span><span class="o">.</span><span class="n">_event_tree</span><span class="o">.</span><span class="n">add_data</span><span class="p">(</span>
</span><span id="EventManager.on_batch-65"><a href="#EventManager.on_batch-65"><span class="linenos">65</span></a>                    <span class="n">name</span><span class="o">=</span><span class="n">e</span><span class="p">,</span>
</span><span id="EventManager.on_batch-66"><a href="#EventManager.on_batch-66"><span class="linenos">66</span></a>                    <span class="n">data</span><span class="o">=</span><span class="n">BatchListener</span><span class="p">(</span>
</span><span id="EventManager.on_batch-67"><a href="#EventManager.on_batch-67"><span class="linenos">67</span></a>                        <span class="n">event</span><span class="o">=</span><span class="n">e</span><span class="p">,</span>
</span><span id="EventManager.on_batch-68"><a href="#EventManager.on_batch-68"><span class="linenos">68</span></a>                        <span class="n">func</span><span class="o">=</span><span class="n">func</span><span class="p">,</span>
</span><span id="EventManager.on_batch-69"><a href="#EventManager.on_batch-69"><span class="linenos">69</span></a>                        <span class="n">fork_type</span><span class="o">=</span><span class="n">fork_type</span><span class="p">,</span>
</span><span id="EventManager.on_batch-70"><a href="#EventManager.on_batch-70"><span class="linenos">70</span></a>                        <span class="n">batch_count</span><span class="o">=</span><span class="n">batch_count</span><span class="p">,</span>
</span><span id="EventManager.on_batch-71"><a href="#EventManager.on_batch-71"><span class="linenos">71</span></a>                        <span class="n">batch_idle_window</span><span class="o">=</span><span class="n">batch_idle_window</span><span class="p">,</span>
</span><span id="EventManager.on_batch-72"><a href="#EventManager.on_batch-72"><span class="linenos">72</span></a>                        <span class="n">batch_window</span><span class="o">=</span><span class="n">batch_window</span><span class="p">,</span>
</span><span id="EventManager.on_batch-73"><a href="#EventManager.on_batch-73"><span class="linenos">73</span></a>                        <span class="n">queue_type</span><span class="o">=</span><span class="n">queue_type</span><span class="p">,</span>
</span><span id="EventManager.on_batch-74"><a href="#EventManager.on_batch-74"><span class="linenos">74</span></a>                    <span class="p">),</span>
</span><span id="EventManager.on_batch-75"><a href="#EventManager.on_batch-75"><span class="linenos">75</span></a>                <span class="p">)</span>
</span><span id="EventManager.on_batch-76"><a href="#EventManager.on_batch-76"><span class="linenos">76</span></a>
</span><span id="EventManager.on_batch-77"><a href="#EventManager.on_batch-77"><span class="linenos">77</span></a>            <span class="k">return</span> <span class="n">func</span>
</span><span id="EventManager.on_batch-78"><a href="#EventManager.on_batch-78"><span class="linenos">78</span></a>
</span><span id="EventManager.on_batch-79"><a href="#EventManager.on_batch-79"><span class="linenos">79</span></a>        <span class="k">return</span> <span class="n">_on_batch</span><span class="p">(</span><span class="n">func</span><span class="p">)</span> <span class="k">if</span> <span class="n">func</span> <span class="k">else</span> <span class="n">_on_batch</span>
</span></pre></div>


    

                            </div>
                            <div id="EventManager.schedule" class="classattr">
                                        <input id="EventManager.schedule-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@classmethod</div>

        <span class="def">def</span>
        <span class="name">schedule</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">cls</span>,</span><span class="param">	<span class="n">interval</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span>,</span><span class="param">	<span class="n">func</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="kc">None</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	fork_type: <a href="#ForkType">ForkType</a> = &lt;<a href="#ForkType.PROCESS">ForkType.PROCESS</a>: &lt;class &#x27;threading.Thread&#x27;&gt;&gt;</span><span class="return-annotation">) -> <span class="n">collections</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Callable</span>:</span></span>

                <label class="view-source-button" for="EventManager.schedule-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#EventManager.schedule"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="EventManager.schedule-81"><a href="#EventManager.schedule-81"><span class="linenos"> 81</span></a>    <span class="nd">@classmethod</span>
</span><span id="EventManager.schedule-82"><a href="#EventManager.schedule-82"><span class="linenos"> 82</span></a>    <span class="k">def</span> <span class="nf">schedule</span><span class="p">(</span>
</span><span id="EventManager.schedule-83"><a href="#EventManager.schedule-83"><span class="linenos"> 83</span></a>        <span class="bp">cls</span><span class="p">,</span>
</span><span id="EventManager.schedule-84"><a href="#EventManager.schedule-84"><span class="linenos"> 84</span></a>        <span class="n">interval</span><span class="p">:</span> <span class="n">timedelta</span><span class="p">,</span>
</span><span id="EventManager.schedule-85"><a href="#EventManager.schedule-85"><span class="linenos"> 85</span></a>        <span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="kc">None</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="EventManager.schedule-86"><a href="#EventManager.schedule-86"><span class="linenos"> 86</span></a>        <span class="n">fork_type</span><span class="p">:</span> <span class="n">ForkType</span> <span class="o">=</span> <span class="n">ForkType</span><span class="o">.</span><span class="n">PROCESS</span><span class="p">,</span>
</span><span id="EventManager.schedule-87"><a href="#EventManager.schedule-87"><span class="linenos"> 87</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">:</span>
</span><span id="EventManager.schedule-88"><a href="#EventManager.schedule-88"><span class="linenos"> 88</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="EventManager.schedule-89"><a href="#EventManager.schedule-89"><span class="linenos"> 89</span></a><span class="sd">        Registers a scheduled function that will be executed on the specified interval.</span>
</span><span id="EventManager.schedule-90"><a href="#EventManager.schedule-90"><span class="linenos"> 90</span></a>
</span><span id="EventManager.schedule-91"><a href="#EventManager.schedule-91"><span class="linenos"> 91</span></a><span class="sd">        Args:</span>
</span><span id="EventManager.schedule-92"><a href="#EventManager.schedule-92"><span class="linenos"> 92</span></a><span class="sd">            interval (timedelta): Timedelta object specifying the interval to run the function</span>
</span><span id="EventManager.schedule-93"><a href="#EventManager.schedule-93"><span class="linenos"> 93</span></a><span class="sd">            func (Callable): Function to call on a schedule</span>
</span><span id="EventManager.schedule-94"><a href="#EventManager.schedule-94"><span class="linenos"> 94</span></a><span class="sd">            fork_type (ForkType, optional): How the function should be run, either in a new Thread or new Process.</span>
</span><span id="EventManager.schedule-95"><a href="#EventManager.schedule-95"><span class="linenos"> 95</span></a><span class="sd">                                            Defaults to ForkType.PROCESS.</span>
</span><span id="EventManager.schedule-96"><a href="#EventManager.schedule-96"><span class="linenos"> 96</span></a><span class="sd">        Returns:</span>
</span><span id="EventManager.schedule-97"><a href="#EventManager.schedule-97"><span class="linenos"> 97</span></a><span class="sd">            Callable: Returns the registered function, for use in decorators.</span>
</span><span id="EventManager.schedule-98"><a href="#EventManager.schedule-98"><span class="linenos"> 98</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="EventManager.schedule-99"><a href="#EventManager.schedule-99"><span class="linenos"> 99</span></a>
</span><span id="EventManager.schedule-100"><a href="#EventManager.schedule-100"><span class="linenos">100</span></a>        <span class="k">def</span> <span class="nf">schedule</span><span class="p">(</span><span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">:</span>
</span><span id="EventManager.schedule-101"><a href="#EventManager.schedule-101"><span class="linenos">101</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Scheduling </span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> to run every </span><span class="si">{</span><span class="n">interval</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span><span class="si">}</span><span class="s2"> seconds.&quot;</span><span class="p">)</span>
</span><span id="EventManager.schedule-102"><a href="#EventManager.schedule-102"><span class="linenos">102</span></a>            <span class="n">listener</span> <span class="o">=</span> <span class="n">ScheduledListener</span><span class="p">(</span><span class="n">interval</span><span class="o">=</span><span class="n">interval</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="n">func</span><span class="p">,</span> <span class="n">fork_type</span><span class="o">=</span><span class="n">fork_type</span><span class="p">)</span>
</span><span id="EventManager.schedule-103"><a href="#EventManager.schedule-103"><span class="linenos">103</span></a>            <span class="n">listener</span><span class="p">()</span>
</span><span id="EventManager.schedule-104"><a href="#EventManager.schedule-104"><span class="linenos">104</span></a>            <span class="bp">cls</span><span class="o">.</span><span class="n">_scheduled_listeners</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">listener</span><span class="p">)</span>
</span><span id="EventManager.schedule-105"><a href="#EventManager.schedule-105"><span class="linenos">105</span></a>            <span class="k">return</span> <span class="n">func</span>
</span><span id="EventManager.schedule-106"><a href="#EventManager.schedule-106"><span class="linenos">106</span></a>
</span><span id="EventManager.schedule-107"><a href="#EventManager.schedule-107"><span class="linenos">107</span></a>        <span class="k">return</span> <span class="n">schedule</span><span class="p">(</span><span class="n">func</span><span class="p">)</span> <span class="k">if</span> <span class="n">func</span> <span class="k">else</span> <span class="n">schedule</span>
</span></pre></div>


            <div class="docstring"><p>Registers a scheduled function that will be executed on the specified interval.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>interval (timedelta):</strong>  Timedelta object specifying the interval to run the function</li>
<li><strong>func (Callable):</strong>  Function to call on a schedule</li>
<li><strong>fork_type (ForkType, optional):</strong>  How the function should be run, either in a new Thread or new Process.
Defaults to <a href="#ForkType.PROCESS">ForkType.PROCESS</a>.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>Callable: Returns the registered function, for use in decorators.</p>
</blockquote>
</div>


                            </div>
                            <div id="EventManager.listeners" class="classattr">
                                        <input id="EventManager.listeners-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@classmethod</div>

        <span class="def">def</span>
        <span class="name">listeners</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">cls</span>, </span><span class="param"><span class="n">event</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Callable</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="EventManager.listeners-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#EventManager.listeners"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="EventManager.listeners-109"><a href="#EventManager.listeners-109"><span class="linenos">109</span></a>    <span class="nd">@classmethod</span>
</span><span id="EventManager.listeners-110"><a href="#EventManager.listeners-110"><span class="linenos">110</span></a>    <span class="k">def</span> <span class="nf">listeners</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Callable</span><span class="p">]:</span>
</span><span id="EventManager.listeners-111"><a href="#EventManager.listeners-111"><span class="linenos">111</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="EventManager.listeners-112"><a href="#EventManager.listeners-112"><span class="linenos">112</span></a><span class="sd">        Returns all functions that are registered to an event.</span>
</span><span id="EventManager.listeners-113"><a href="#EventManager.listeners-113"><span class="linenos">113</span></a>
</span><span id="EventManager.listeners-114"><a href="#EventManager.listeners-114"><span class="linenos">114</span></a><span class="sd">        Args:</span>
</span><span id="EventManager.listeners-115"><a href="#EventManager.listeners-115"><span class="linenos">115</span></a><span class="sd">            event (str): Event to get listeners for.</span>
</span><span id="EventManager.listeners-116"><a href="#EventManager.listeners-116"><span class="linenos">116</span></a>
</span><span id="EventManager.listeners-117"><a href="#EventManager.listeners-117"><span class="linenos">117</span></a><span class="sd">        Returns:</span>
</span><span id="EventManager.listeners-118"><a href="#EventManager.listeners-118"><span class="linenos">118</span></a><span class="sd">            list[Callable]: List of functions registered to the provided event.</span>
</span><span id="EventManager.listeners-119"><a href="#EventManager.listeners-119"><span class="linenos">119</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="EventManager.listeners-120"><a href="#EventManager.listeners-120"><span class="linenos">120</span></a>        <span class="k">return</span> <span class="p">[</span><span class="n">listener</span><span class="o">.</span><span class="n">func</span> <span class="k">for</span> <span class="n">listener</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_event_tree</span><span class="o">.</span><span class="n">find_data</span><span class="p">(</span><span class="n">event</span><span class="p">)]</span>
</span></pre></div>


            <div class="docstring"><p>Returns all functions that are registered to an event.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>event (str):</strong>  Event to get listeners for.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>list[Callable]: List of functions registered to the provided event.</p>
</blockquote>
</div>


                            </div>
                            <div id="EventManager.emit" class="classattr">
                                        <input id="EventManager.emit-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@classmethod</div>

        <span class="def">def</span>
        <span class="name">emit</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">cls</span>,</span><span class="param">	<span class="n">event</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="o">*</span><span class="n">args</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="n">concurrent</span><span class="o">.</span><span class="n">futures</span><span class="o">.</span><span class="n">_base</span><span class="o">.</span><span class="n">Future</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="EventManager.emit-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#EventManager.emit"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="EventManager.emit-122"><a href="#EventManager.emit-122"><span class="linenos">122</span></a>    <span class="nd">@classmethod</span>
</span><span id="EventManager.emit-123"><a href="#EventManager.emit-123"><span class="linenos">123</span></a>    <span class="k">def</span> <span class="nf">emit</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Future</span><span class="p">]:</span>
</span><span id="EventManager.emit-124"><a href="#EventManager.emit-124"><span class="linenos">124</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="EventManager.emit-125"><a href="#EventManager.emit-125"><span class="linenos">125</span></a><span class="sd">        Emit an event into the system, calling all functions listening for the provided event.</span>
</span><span id="EventManager.emit-126"><a href="#EventManager.emit-126"><span class="linenos">126</span></a>
</span><span id="EventManager.emit-127"><a href="#EventManager.emit-127"><span class="linenos">127</span></a><span class="sd">        Args:</span>
</span><span id="EventManager.emit-128"><a href="#EventManager.emit-128"><span class="linenos">128</span></a><span class="sd">            event (str): Event to emit into the system.</span>
</span><span id="EventManager.emit-129"><a href="#EventManager.emit-129"><span class="linenos">129</span></a>
</span><span id="EventManager.emit-130"><a href="#EventManager.emit-130"><span class="linenos">130</span></a><span class="sd">        Returns:</span>
</span><span id="EventManager.emit-131"><a href="#EventManager.emit-131"><span class="linenos">131</span></a><span class="sd">            list[Future]: List of futures from the executed listeners.</span>
</span><span id="EventManager.emit-132"><a href="#EventManager.emit-132"><span class="linenos">132</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="EventManager.emit-133"><a href="#EventManager.emit-133"><span class="linenos">133</span></a>        <span class="n">listeners</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_event_tree</span><span class="o">.</span><span class="n">find_data</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">event</span><span class="p">)</span>
</span><span id="EventManager.emit-134"><a href="#EventManager.emit-134"><span class="linenos">134</span></a>
</span><span id="EventManager.emit-135"><a href="#EventManager.emit-135"><span class="linenos">135</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">event</span><span class="si">}</span><span class="s2"> event emitted, executing on </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">listeners</span><span class="p">)</span><span class="si">}</span><span class="s2"> listener functions&quot;</span><span class="p">)</span>
</span><span id="EventManager.emit-136"><a href="#EventManager.emit-136"><span class="linenos">136</span></a>
</span><span id="EventManager.emit-137"><a href="#EventManager.emit-137"><span class="linenos">137</span></a>        <span class="n">futures</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="EventManager.emit-138"><a href="#EventManager.emit-138"><span class="linenos">138</span></a>
</span><span id="EventManager.emit-139"><a href="#EventManager.emit-139"><span class="linenos">139</span></a>        <span class="c1"># call listeners</span>
</span><span id="EventManager.emit-140"><a href="#EventManager.emit-140"><span class="linenos">140</span></a>        <span class="k">for</span> <span class="n">listener</span> <span class="ow">in</span> <span class="n">listeners</span><span class="p">:</span>
</span><span id="EventManager.emit-141"><a href="#EventManager.emit-141"><span class="linenos">141</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="EventManager.emit-142"><a href="#EventManager.emit-142"><span class="linenos">142</span></a>                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">listener</span><span class="p">,</span> <span class="n">BatchListener</span><span class="p">):</span>
</span><span id="EventManager.emit-143"><a href="#EventManager.emit-143"><span class="linenos">143</span></a>                    <span class="k">if</span> <span class="s2">&quot;data&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="EventManager.emit-144"><a href="#EventManager.emit-144"><span class="linenos">144</span></a>                        <span class="n">futures</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">listener</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]))</span>
</span><span id="EventManager.emit-145"><a href="#EventManager.emit-145"><span class="linenos">145</span></a>                    <span class="k">else</span><span class="p">:</span>
</span><span id="EventManager.emit-146"><a href="#EventManager.emit-146"><span class="linenos">146</span></a>                        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;BatchListener listener called without data.&quot;</span><span class="p">)</span>
</span><span id="EventManager.emit-147"><a href="#EventManager.emit-147"><span class="linenos">147</span></a>                        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;BatchListener listener called without data.&quot;</span><span class="p">)</span>
</span><span id="EventManager.emit-148"><a href="#EventManager.emit-148"><span class="linenos">148</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="EventManager.emit-149"><a href="#EventManager.emit-149"><span class="linenos">149</span></a>                    <span class="n">futures</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">listener</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
</span><span id="EventManager.emit-150"><a href="#EventManager.emit-150"><span class="linenos">150</span></a>            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="EventManager.emit-151"><a href="#EventManager.emit-151"><span class="linenos">151</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Exception in emit: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="EventManager.emit-152"><a href="#EventManager.emit-152"><span class="linenos">152</span></a>                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error executing listener </span><span class="si">{</span><span class="n">listener</span><span class="o">.</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> for event </span><span class="si">{</span><span class="n">event</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</span><span id="EventManager.emit-153"><a href="#EventManager.emit-153"><span class="linenos">153</span></a>                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span><span id="EventManager.emit-154"><a href="#EventManager.emit-154"><span class="linenos">154</span></a>
</span><span id="EventManager.emit-155"><a href="#EventManager.emit-155"><span class="linenos">155</span></a>        <span class="k">return</span> <span class="n">futures</span>
</span></pre></div>


            <div class="docstring"><p>Emit an event into the system, calling all functions listening for the provided event.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>event (str):</strong>  Event to emit into the system.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>list[Future]: List of futures from the executed listeners.</p>
</blockquote>
</div>


                            </div>
                </section>
                <section id="ForkType">
                            <input id="ForkType-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ForkType</span><wbr>(<span class="base">enum.Enum</span>):

                <label class="view-source-button" for="ForkType-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ForkType"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ForkType-7"><a href="#ForkType-7"><span class="linenos"> 7</span></a><span class="k">class</span> <span class="nc">ForkType</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
</span><span id="ForkType-8"><a href="#ForkType-8"><span class="linenos"> 8</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Options for the fork type of a listener within the event manager.&quot;&quot;&quot;</span>
</span><span id="ForkType-9"><a href="#ForkType-9"><span class="linenos"> 9</span></a>
</span><span id="ForkType-10"><a href="#ForkType-10"><span class="linenos">10</span></a>    <span class="n">THREAD</span> <span class="o">=</span> <span class="n">Process</span>
</span><span id="ForkType-11"><a href="#ForkType-11"><span class="linenos">11</span></a>    <span class="n">PROCESS</span> <span class="o">=</span> <span class="n">Thread</span>
</span></pre></div>


            <div class="docstring"><p>Options for the fork type of a listener within the event manager.</p>
</div>


                            <div id="ForkType.THREAD" class="classattr">
                                <div class="attr variable">
            <span class="name">THREAD</span>        =
<span class="default_value">&lt;<a href="#ForkType.THREAD">ForkType.THREAD</a>: &lt;class &#39;multiprocessing.context.Process&#39;&gt;&gt;</span>

        
    </div>
    <a class="headerlink" href="#ForkType.THREAD"></a>
    
    

                            </div>
                            <div id="ForkType.PROCESS" class="classattr">
                                <div class="attr variable">
            <span class="name">PROCESS</span>        =
<span class="default_value">&lt;<a href="#ForkType.PROCESS">ForkType.PROCESS</a>: &lt;class &#39;threading.Thread&#39;&gt;&gt;</span>

        
    </div>
    <a class="headerlink" href="#ForkType.PROCESS"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>enum.Enum</dt>
                                <dd id="ForkType.name" class="variable">name</dd>
                <dd id="ForkType.value" class="variable">value</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="QueueInterface">
                            <input id="QueueInterface-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">QueueInterface</span><wbr>(<span class="base">typing.Protocol</span>):

                <label class="view-source-button" for="QueueInterface-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#QueueInterface"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="QueueInterface-6"><a href="#QueueInterface-6"><span class="linenos"> 6</span></a><span class="k">class</span> <span class="nc">QueueInterface</span><span class="p">(</span><span class="n">Protocol</span><span class="p">):</span>
</span><span id="QueueInterface-7"><a href="#QueueInterface-7"><span class="linenos"> 7</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="QueueInterface-8"><a href="#QueueInterface-8"><span class="linenos"> 8</span></a><span class="sd">    An abstract class that represents a queue. It should not be used directly, but through its concrete subclasses.</span>
</span><span id="QueueInterface-9"><a href="#QueueInterface-9"><span class="linenos"> 9</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="QueueInterface-10"><a href="#QueueInterface-10"><span class="linenos">10</span></a>
</span><span id="QueueInterface-11"><a href="#QueueInterface-11"><span class="linenos">11</span></a>    <span class="n">last_updated</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span>
</span><span id="QueueInterface-12"><a href="#QueueInterface-12"><span class="linenos">12</span></a>
</span><span id="QueueInterface-13"><a href="#QueueInterface-13"><span class="linenos">13</span></a>    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="QueueInterface-14"><a href="#QueueInterface-14"><span class="linenos">14</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the length of the queue.&quot;&quot;&quot;</span>
</span><span id="QueueInterface-15"><a href="#QueueInterface-15"><span class="linenos">15</span></a>        <span class="o">...</span>
</span><span id="QueueInterface-16"><a href="#QueueInterface-16"><span class="linenos">16</span></a>
</span><span id="QueueInterface-17"><a href="#QueueInterface-17"><span class="linenos">17</span></a>    <span class="k">def</span> <span class="nf">get_all</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
</span><span id="QueueInterface-18"><a href="#QueueInterface-18"><span class="linenos">18</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get and return all items from the queue.&quot;&quot;&quot;</span>
</span><span id="QueueInterface-19"><a href="#QueueInterface-19"><span class="linenos">19</span></a>        <span class="o">...</span>
</span><span id="QueueInterface-20"><a href="#QueueInterface-20"><span class="linenos">20</span></a>
</span><span id="QueueInterface-21"><a href="#QueueInterface-21"><span class="linenos">21</span></a>    <span class="k">def</span> <span class="nf">put</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
</span><span id="QueueInterface-22"><a href="#QueueInterface-22"><span class="linenos">22</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Put an item into the queue and update the last_updated attribute with current time.&quot;&quot;&quot;</span>
</span><span id="QueueInterface-23"><a href="#QueueInterface-23"><span class="linenos">23</span></a>        <span class="o">...</span>
</span></pre></div>


            <div class="docstring"><p>An abstract class that represents a queue. It should not be used directly, but through its concrete subclasses.</p>
</div>


                            <div id="QueueInterface.__init__" class="classattr">
                                        <input id="QueueInterface.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">QueueInterface</span><span class="signature pdoc-code condensed">(<span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span>)</span>

                <label class="view-source-button" for="QueueInterface.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#QueueInterface.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="QueueInterface.__init__-1934"><a href="#QueueInterface.__init__-1934"><span class="linenos">1934</span></a><span class="k">def</span> <span class="nf">_no_init_or_replace_init</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="QueueInterface.__init__-1935"><a href="#QueueInterface.__init__-1935"><span class="linenos">1935</span></a>    <span class="bp">cls</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="QueueInterface.__init__-1936"><a href="#QueueInterface.__init__-1936"><span class="linenos">1936</span></a>
</span><span id="QueueInterface.__init__-1937"><a href="#QueueInterface.__init__-1937"><span class="linenos">1937</span></a>    <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_is_protocol</span><span class="p">:</span>
</span><span id="QueueInterface.__init__-1938"><a href="#QueueInterface.__init__-1938"><span class="linenos">1938</span></a>        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Protocols cannot be instantiated&#39;</span><span class="p">)</span>
</span><span id="QueueInterface.__init__-1939"><a href="#QueueInterface.__init__-1939"><span class="linenos">1939</span></a>
</span><span id="QueueInterface.__init__-1940"><a href="#QueueInterface.__init__-1940"><span class="linenos">1940</span></a>    <span class="c1"># Already using a custom `__init__`. No need to calculate correct</span>
</span><span id="QueueInterface.__init__-1941"><a href="#QueueInterface.__init__-1941"><span class="linenos">1941</span></a>    <span class="c1"># `__init__` to call. This can lead to RecursionError. See bpo-45121.</span>
</span><span id="QueueInterface.__init__-1942"><a href="#QueueInterface.__init__-1942"><span class="linenos">1942</span></a>    <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="fm">__init__</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">_no_init_or_replace_init</span><span class="p">:</span>
</span><span id="QueueInterface.__init__-1943"><a href="#QueueInterface.__init__-1943"><span class="linenos">1943</span></a>        <span class="k">return</span>
</span><span id="QueueInterface.__init__-1944"><a href="#QueueInterface.__init__-1944"><span class="linenos">1944</span></a>
</span><span id="QueueInterface.__init__-1945"><a href="#QueueInterface.__init__-1945"><span class="linenos">1945</span></a>    <span class="c1"># Initially, `__init__` of a protocol subclass is set to `_no_init_or_replace_init`.</span>
</span><span id="QueueInterface.__init__-1946"><a href="#QueueInterface.__init__-1946"><span class="linenos">1946</span></a>    <span class="c1"># The first instantiation of the subclass will call `_no_init_or_replace_init` which</span>
</span><span id="QueueInterface.__init__-1947"><a href="#QueueInterface.__init__-1947"><span class="linenos">1947</span></a>    <span class="c1"># searches for a proper new `__init__` in the MRO. The new `__init__`</span>
</span><span id="QueueInterface.__init__-1948"><a href="#QueueInterface.__init__-1948"><span class="linenos">1948</span></a>    <span class="c1"># replaces the subclass&#39; old `__init__` (ie `_no_init_or_replace_init`). Subsequent</span>
</span><span id="QueueInterface.__init__-1949"><a href="#QueueInterface.__init__-1949"><span class="linenos">1949</span></a>    <span class="c1"># instantiation of the protocol subclass will thus use the new</span>
</span><span id="QueueInterface.__init__-1950"><a href="#QueueInterface.__init__-1950"><span class="linenos">1950</span></a>    <span class="c1"># `__init__` and no longer call `_no_init_or_replace_init`.</span>
</span><span id="QueueInterface.__init__-1951"><a href="#QueueInterface.__init__-1951"><span class="linenos">1951</span></a>    <span class="k">for</span> <span class="n">base</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__mro__</span><span class="p">:</span>
</span><span id="QueueInterface.__init__-1952"><a href="#QueueInterface.__init__-1952"><span class="linenos">1952</span></a>        <span class="n">init</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;__init__&#39;</span><span class="p">,</span> <span class="n">_no_init_or_replace_init</span><span class="p">)</span>
</span><span id="QueueInterface.__init__-1953"><a href="#QueueInterface.__init__-1953"><span class="linenos">1953</span></a>        <span class="k">if</span> <span class="n">init</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">_no_init_or_replace_init</span><span class="p">:</span>
</span><span id="QueueInterface.__init__-1954"><a href="#QueueInterface.__init__-1954"><span class="linenos">1954</span></a>            <span class="bp">cls</span><span class="o">.</span><span class="fm">__init__</span> <span class="o">=</span> <span class="n">init</span>
</span><span id="QueueInterface.__init__-1955"><a href="#QueueInterface.__init__-1955"><span class="linenos">1955</span></a>            <span class="k">break</span>
</span><span id="QueueInterface.__init__-1956"><a href="#QueueInterface.__init__-1956"><span class="linenos">1956</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="QueueInterface.__init__-1957"><a href="#QueueInterface.__init__-1957"><span class="linenos">1957</span></a>        <span class="c1"># should not happen</span>
</span><span id="QueueInterface.__init__-1958"><a href="#QueueInterface.__init__-1958"><span class="linenos">1958</span></a>        <span class="bp">cls</span><span class="o">.</span><span class="fm">__init__</span> <span class="o">=</span> <span class="nb">object</span><span class="o">.</span><span class="fm">__init__</span>
</span><span id="QueueInterface.__init__-1959"><a href="#QueueInterface.__init__-1959"><span class="linenos">1959</span></a>
</span><span id="QueueInterface.__init__-1960"><a href="#QueueInterface.__init__-1960"><span class="linenos">1960</span></a>    <span class="bp">cls</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="QueueInterface.last_updated" class="classattr">
                                <div class="attr variable">
            <span class="name">last_updated</span><span class="annotation">: datetime.datetime | None</span>

        
    </div>
    <a class="headerlink" href="#QueueInterface.last_updated"></a>
    
    

                            </div>
                            <div id="QueueInterface.get_all" class="classattr">
                                        <input id="QueueInterface.get_all-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_all</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="QueueInterface.get_all-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#QueueInterface.get_all"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="QueueInterface.get_all-17"><a href="#QueueInterface.get_all-17"><span class="linenos">17</span></a>    <span class="k">def</span> <span class="nf">get_all</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
</span><span id="QueueInterface.get_all-18"><a href="#QueueInterface.get_all-18"><span class="linenos">18</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get and return all items from the queue.&quot;&quot;&quot;</span>
</span><span id="QueueInterface.get_all-19"><a href="#QueueInterface.get_all-19"><span class="linenos">19</span></a>        <span class="o">...</span>
</span></pre></div>


            <div class="docstring"><p>Get and return all items from the queue.</p>
</div>


                            </div>
                            <div id="QueueInterface.put" class="classattr">
                                        <input id="QueueInterface.put-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">put</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">data</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="QueueInterface.put-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#QueueInterface.put"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="QueueInterface.put-21"><a href="#QueueInterface.put-21"><span class="linenos">21</span></a>    <span class="k">def</span> <span class="nf">put</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
</span><span id="QueueInterface.put-22"><a href="#QueueInterface.put-22"><span class="linenos">22</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Put an item into the queue and update the last_updated attribute with current time.&quot;&quot;&quot;</span>
</span><span id="QueueInterface.put-23"><a href="#QueueInterface.put-23"><span class="linenos">23</span></a>        <span class="o">...</span>
</span></pre></div>


            <div class="docstring"><p>Put an item into the queue and update the last_updated attribute with current time.</p>
</div>


                            </div>
                </section>
                <section id="ProcessQueue">
                            <input id="ProcessQueue-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ProcessQueue</span><wbr>(<span class="base">multiprocessing.queues.Queue</span>):

                <label class="view-source-button" for="ProcessQueue-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ProcessQueue"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ProcessQueue-45"><a href="#ProcessQueue-45"><span class="linenos">45</span></a><span class="k">class</span> <span class="nc">ProcessQueue</span><span class="p">(</span><span class="n">ProcessingQueueBase</span><span class="p">):</span>
</span><span id="ProcessQueue-46"><a href="#ProcessQueue-46"><span class="linenos">46</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="ProcessQueue-47"><a href="#ProcessQueue-47"><span class="linenos">47</span></a><span class="sd">    Multiprocessing FIFO Queue modified to track when the queue was last updated.</span>
</span><span id="ProcessQueue-48"><a href="#ProcessQueue-48"><span class="linenos">48</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="ProcessQueue-49"><a href="#ProcessQueue-49"><span class="linenos">49</span></a>
</span><span id="ProcessQueue-50"><a href="#ProcessQueue-50"><span class="linenos">50</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="ProcessQueue-51"><a href="#ProcessQueue-51"><span class="linenos">51</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">last_updated</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="ProcessQueue-52"><a href="#ProcessQueue-52"><span class="linenos">52</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span> <span class="n">ctx</span><span class="o">=</span><span class="n">get_context</span><span class="p">())</span>
</span><span id="ProcessQueue-53"><a href="#ProcessQueue-53"><span class="linenos">53</span></a>
</span><span id="ProcessQueue-54"><a href="#ProcessQueue-54"><span class="linenos">54</span></a>    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ProcessQueue-55"><a href="#ProcessQueue-55"><span class="linenos">55</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the length of the queue.&quot;&quot;&quot;</span>
</span><span id="ProcessQueue-56"><a href="#ProcessQueue-56"><span class="linenos">56</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">qsize</span><span class="p">()</span>
</span><span id="ProcessQueue-57"><a href="#ProcessQueue-57"><span class="linenos">57</span></a>
</span><span id="ProcessQueue-58"><a href="#ProcessQueue-58"><span class="linenos">58</span></a>    <span class="k">def</span> <span class="nf">get_all</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
</span><span id="ProcessQueue-59"><a href="#ProcessQueue-59"><span class="linenos">59</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="ProcessQueue-60"><a href="#ProcessQueue-60"><span class="linenos">60</span></a><span class="sd">        Get and return all items from the queue</span>
</span><span id="ProcessQueue-61"><a href="#ProcessQueue-61"><span class="linenos">61</span></a>
</span><span id="ProcessQueue-62"><a href="#ProcessQueue-62"><span class="linenos">62</span></a><span class="sd">        Returns:</span>
</span><span id="ProcessQueue-63"><a href="#ProcessQueue-63"><span class="linenos">63</span></a><span class="sd">            list[Any]: List of all items from the queue.</span>
</span><span id="ProcessQueue-64"><a href="#ProcessQueue-64"><span class="linenos">64</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ProcessQueue-65"><a href="#ProcessQueue-65"><span class="linenos">65</span></a>        <span class="nb">all</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ProcessQueue-66"><a href="#ProcessQueue-66"><span class="linenos">66</span></a>        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">qsize</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="ProcessQueue-67"><a href="#ProcessQueue-67"><span class="linenos">67</span></a>            <span class="nb">all</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
</span><span id="ProcessQueue-68"><a href="#ProcessQueue-68"><span class="linenos">68</span></a>
</span><span id="ProcessQueue-69"><a href="#ProcessQueue-69"><span class="linenos">69</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">last_updated</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="ProcessQueue-70"><a href="#ProcessQueue-70"><span class="linenos">70</span></a>        <span class="k">return</span> <span class="nb">all</span>
</span><span id="ProcessQueue-71"><a href="#ProcessQueue-71"><span class="linenos">71</span></a>
</span><span id="ProcessQueue-72"><a href="#ProcessQueue-72"><span class="linenos">72</span></a>    <span class="k">def</span> <span class="nf">put</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="ProcessQueue-73"><a href="#ProcessQueue-73"><span class="linenos">73</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Put an item into the queue and update the last_updated attribute with curernt time.&quot;&quot;&quot;</span>
</span><span id="ProcessQueue-74"><a href="#ProcessQueue-74"><span class="linenos">74</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">last_updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="ProcessQueue-75"><a href="#ProcessQueue-75"><span class="linenos">75</span></a>
</span><span id="ProcessQueue-76"><a href="#ProcessQueue-76"><span class="linenos">76</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Multiprocessing FIFO Queue modified to track when the queue was last updated.</p>
</div>


                            <div id="ProcessQueue.__init__" class="classattr">
                                        <input id="ProcessQueue.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">ProcessQueue</span><span class="signature pdoc-code condensed">(<span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span>)</span>

                <label class="view-source-button" for="ProcessQueue.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ProcessQueue.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ProcessQueue.__init__-50"><a href="#ProcessQueue.__init__-50"><span class="linenos">50</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="ProcessQueue.__init__-51"><a href="#ProcessQueue.__init__-51"><span class="linenos">51</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">last_updated</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="ProcessQueue.__init__-52"><a href="#ProcessQueue.__init__-52"><span class="linenos">52</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span> <span class="n">ctx</span><span class="o">=</span><span class="n">get_context</span><span class="p">())</span>
</span></pre></div>


    

                            </div>
                            <div id="ProcessQueue.last_updated" class="classattr">
                                <div class="attr variable">
            <span class="name">last_updated</span><span class="annotation">: datetime.datetime | None</span>

        
    </div>
    <a class="headerlink" href="#ProcessQueue.last_updated"></a>
    
    

                            </div>
                            <div id="ProcessQueue.get_all" class="classattr">
                                        <input id="ProcessQueue.get_all-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_all</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="ProcessQueue.get_all-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ProcessQueue.get_all"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ProcessQueue.get_all-58"><a href="#ProcessQueue.get_all-58"><span class="linenos">58</span></a>    <span class="k">def</span> <span class="nf">get_all</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
</span><span id="ProcessQueue.get_all-59"><a href="#ProcessQueue.get_all-59"><span class="linenos">59</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="ProcessQueue.get_all-60"><a href="#ProcessQueue.get_all-60"><span class="linenos">60</span></a><span class="sd">        Get and return all items from the queue</span>
</span><span id="ProcessQueue.get_all-61"><a href="#ProcessQueue.get_all-61"><span class="linenos">61</span></a>
</span><span id="ProcessQueue.get_all-62"><a href="#ProcessQueue.get_all-62"><span class="linenos">62</span></a><span class="sd">        Returns:</span>
</span><span id="ProcessQueue.get_all-63"><a href="#ProcessQueue.get_all-63"><span class="linenos">63</span></a><span class="sd">            list[Any]: List of all items from the queue.</span>
</span><span id="ProcessQueue.get_all-64"><a href="#ProcessQueue.get_all-64"><span class="linenos">64</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ProcessQueue.get_all-65"><a href="#ProcessQueue.get_all-65"><span class="linenos">65</span></a>        <span class="nb">all</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ProcessQueue.get_all-66"><a href="#ProcessQueue.get_all-66"><span class="linenos">66</span></a>        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">qsize</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="ProcessQueue.get_all-67"><a href="#ProcessQueue.get_all-67"><span class="linenos">67</span></a>            <span class="nb">all</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
</span><span id="ProcessQueue.get_all-68"><a href="#ProcessQueue.get_all-68"><span class="linenos">68</span></a>
</span><span id="ProcessQueue.get_all-69"><a href="#ProcessQueue.get_all-69"><span class="linenos">69</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">last_updated</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="ProcessQueue.get_all-70"><a href="#ProcessQueue.get_all-70"><span class="linenos">70</span></a>        <span class="k">return</span> <span class="nb">all</span>
</span></pre></div>


            <div class="docstring"><p>Get and return all items from the queue</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>list[Any]: List of all items from the queue.</p>
</blockquote>
</div>


                            </div>
                            <div id="ProcessQueue.put" class="classattr">
                                        <input id="ProcessQueue.put-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">put</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ProcessQueue.put-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ProcessQueue.put"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ProcessQueue.put-72"><a href="#ProcessQueue.put-72"><span class="linenos">72</span></a>    <span class="k">def</span> <span class="nf">put</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="ProcessQueue.put-73"><a href="#ProcessQueue.put-73"><span class="linenos">73</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Put an item into the queue and update the last_updated attribute with curernt time.&quot;&quot;&quot;</span>
</span><span id="ProcessQueue.put-74"><a href="#ProcessQueue.put-74"><span class="linenos">74</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">last_updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="ProcessQueue.put-75"><a href="#ProcessQueue.put-75"><span class="linenos">75</span></a>
</span><span id="ProcessQueue.put-76"><a href="#ProcessQueue.put-76"><span class="linenos">76</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Put an item into the queue and update the last_updated attribute with curernt time.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>multiprocessing.queues.Queue</dt>
                                <dd id="ProcessQueue.get" class="function">get</dd>
                <dd id="ProcessQueue.qsize" class="function">qsize</dd>
                <dd id="ProcessQueue.empty" class="function">empty</dd>
                <dd id="ProcessQueue.full" class="function">full</dd>
                <dd id="ProcessQueue.get_nowait" class="function">get_nowait</dd>
                <dd id="ProcessQueue.put_nowait" class="function">put_nowait</dd>
                <dd id="ProcessQueue.close" class="function">close</dd>
                <dd id="ProcessQueue.join_thread" class="function">join_thread</dd>
                <dd id="ProcessQueue.cancel_join_thread" class="function">cancel_join_thread</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="ThreadQueue">
                            <input id="ThreadQueue-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ThreadQueue</span><wbr>(<span class="base">_queue.SimpleQueue</span>):

                <label class="view-source-button" for="ThreadQueue-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ThreadQueue"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ThreadQueue-11"><a href="#ThreadQueue-11"><span class="linenos">11</span></a><span class="k">class</span> <span class="nc">ThreadQueue</span><span class="p">(</span><span class="n">ThreadQueueBase</span><span class="p">):</span>
</span><span id="ThreadQueue-12"><a href="#ThreadQueue-12"><span class="linenos">12</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="ThreadQueue-13"><a href="#ThreadQueue-13"><span class="linenos">13</span></a><span class="sd">    Simple, unbound FIFO Queue used for Threading, modified to track when the queue was last updated.</span>
</span><span id="ThreadQueue-14"><a href="#ThreadQueue-14"><span class="linenos">14</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="ThreadQueue-15"><a href="#ThreadQueue-15"><span class="linenos">15</span></a>
</span><span id="ThreadQueue-16"><a href="#ThreadQueue-16"><span class="linenos">16</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="ThreadQueue-17"><a href="#ThreadQueue-17"><span class="linenos">17</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">last_updated</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="ThreadQueue-18"><a href="#ThreadQueue-18"><span class="linenos">18</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="ThreadQueue-19"><a href="#ThreadQueue-19"><span class="linenos">19</span></a>
</span><span id="ThreadQueue-20"><a href="#ThreadQueue-20"><span class="linenos">20</span></a>    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ThreadQueue-21"><a href="#ThreadQueue-21"><span class="linenos">21</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the length of the queue.&quot;&quot;&quot;</span>
</span><span id="ThreadQueue-22"><a href="#ThreadQueue-22"><span class="linenos">22</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">qsize</span><span class="p">()</span>
</span><span id="ThreadQueue-23"><a href="#ThreadQueue-23"><span class="linenos">23</span></a>
</span><span id="ThreadQueue-24"><a href="#ThreadQueue-24"><span class="linenos">24</span></a>    <span class="k">def</span> <span class="nf">get_all</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
</span><span id="ThreadQueue-25"><a href="#ThreadQueue-25"><span class="linenos">25</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="ThreadQueue-26"><a href="#ThreadQueue-26"><span class="linenos">26</span></a><span class="sd">        Get and return all items from the queue</span>
</span><span id="ThreadQueue-27"><a href="#ThreadQueue-27"><span class="linenos">27</span></a>
</span><span id="ThreadQueue-28"><a href="#ThreadQueue-28"><span class="linenos">28</span></a><span class="sd">        Returns:</span>
</span><span id="ThreadQueue-29"><a href="#ThreadQueue-29"><span class="linenos">29</span></a><span class="sd">            list[Any]: List of all items from the queue.</span>
</span><span id="ThreadQueue-30"><a href="#ThreadQueue-30"><span class="linenos">30</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ThreadQueue-31"><a href="#ThreadQueue-31"><span class="linenos">31</span></a>        <span class="nb">all</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ThreadQueue-32"><a href="#ThreadQueue-32"><span class="linenos">32</span></a>        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">qsize</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="ThreadQueue-33"><a href="#ThreadQueue-33"><span class="linenos">33</span></a>            <span class="nb">all</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
</span><span id="ThreadQueue-34"><a href="#ThreadQueue-34"><span class="linenos">34</span></a>
</span><span id="ThreadQueue-35"><a href="#ThreadQueue-35"><span class="linenos">35</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">last_updated</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="ThreadQueue-36"><a href="#ThreadQueue-36"><span class="linenos">36</span></a>        <span class="k">return</span> <span class="nb">all</span>
</span><span id="ThreadQueue-37"><a href="#ThreadQueue-37"><span class="linenos">37</span></a>
</span><span id="ThreadQueue-38"><a href="#ThreadQueue-38"><span class="linenos">38</span></a>    <span class="k">def</span> <span class="nf">put</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="ThreadQueue-39"><a href="#ThreadQueue-39"><span class="linenos">39</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Put an item into the queue and update the last_updated attribute with curernt time.&quot;&quot;&quot;</span>
</span><span id="ThreadQueue-40"><a href="#ThreadQueue-40"><span class="linenos">40</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">last_updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="ThreadQueue-41"><a href="#ThreadQueue-41"><span class="linenos">41</span></a>
</span><span id="ThreadQueue-42"><a href="#ThreadQueue-42"><span class="linenos">42</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Simple, unbound FIFO Queue used for Threading, modified to track when the queue was last updated.</p>
</div>


                            <div id="ThreadQueue.__init__" class="classattr">
                                        <input id="ThreadQueue.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">ThreadQueue</span><span class="signature pdoc-code condensed">(<span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span>)</span>

                <label class="view-source-button" for="ThreadQueue.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ThreadQueue.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ThreadQueue.__init__-16"><a href="#ThreadQueue.__init__-16"><span class="linenos">16</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="ThreadQueue.__init__-17"><a href="#ThreadQueue.__init__-17"><span class="linenos">17</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">last_updated</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="ThreadQueue.__init__-18"><a href="#ThreadQueue.__init__-18"><span class="linenos">18</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="ThreadQueue.last_updated" class="classattr">
                                <div class="attr variable">
            <span class="name">last_updated</span><span class="annotation">: datetime.datetime | None</span>

        
    </div>
    <a class="headerlink" href="#ThreadQueue.last_updated"></a>
    
    

                            </div>
                            <div id="ThreadQueue.get_all" class="classattr">
                                        <input id="ThreadQueue.get_all-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_all</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="ThreadQueue.get_all-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ThreadQueue.get_all"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ThreadQueue.get_all-24"><a href="#ThreadQueue.get_all-24"><span class="linenos">24</span></a>    <span class="k">def</span> <span class="nf">get_all</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
</span><span id="ThreadQueue.get_all-25"><a href="#ThreadQueue.get_all-25"><span class="linenos">25</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="ThreadQueue.get_all-26"><a href="#ThreadQueue.get_all-26"><span class="linenos">26</span></a><span class="sd">        Get and return all items from the queue</span>
</span><span id="ThreadQueue.get_all-27"><a href="#ThreadQueue.get_all-27"><span class="linenos">27</span></a>
</span><span id="ThreadQueue.get_all-28"><a href="#ThreadQueue.get_all-28"><span class="linenos">28</span></a><span class="sd">        Returns:</span>
</span><span id="ThreadQueue.get_all-29"><a href="#ThreadQueue.get_all-29"><span class="linenos">29</span></a><span class="sd">            list[Any]: List of all items from the queue.</span>
</span><span id="ThreadQueue.get_all-30"><a href="#ThreadQueue.get_all-30"><span class="linenos">30</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ThreadQueue.get_all-31"><a href="#ThreadQueue.get_all-31"><span class="linenos">31</span></a>        <span class="nb">all</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ThreadQueue.get_all-32"><a href="#ThreadQueue.get_all-32"><span class="linenos">32</span></a>        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">qsize</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="ThreadQueue.get_all-33"><a href="#ThreadQueue.get_all-33"><span class="linenos">33</span></a>            <span class="nb">all</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
</span><span id="ThreadQueue.get_all-34"><a href="#ThreadQueue.get_all-34"><span class="linenos">34</span></a>
</span><span id="ThreadQueue.get_all-35"><a href="#ThreadQueue.get_all-35"><span class="linenos">35</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">last_updated</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="ThreadQueue.get_all-36"><a href="#ThreadQueue.get_all-36"><span class="linenos">36</span></a>        <span class="k">return</span> <span class="nb">all</span>
</span></pre></div>


            <div class="docstring"><p>Get and return all items from the queue</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>list[Any]: List of all items from the queue.</p>
</blockquote>
</div>


                            </div>
                            <div id="ThreadQueue.put" class="classattr">
                                        <input id="ThreadQueue.put-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">put</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ThreadQueue.put-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ThreadQueue.put"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ThreadQueue.put-38"><a href="#ThreadQueue.put-38"><span class="linenos">38</span></a>    <span class="k">def</span> <span class="nf">put</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="ThreadQueue.put-39"><a href="#ThreadQueue.put-39"><span class="linenos">39</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Put an item into the queue and update the last_updated attribute with curernt time.&quot;&quot;&quot;</span>
</span><span id="ThreadQueue.put-40"><a href="#ThreadQueue.put-40"><span class="linenos">40</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">last_updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="ThreadQueue.put-41"><a href="#ThreadQueue.put-41"><span class="linenos">41</span></a>
</span><span id="ThreadQueue.put-42"><a href="#ThreadQueue.put-42"><span class="linenos">42</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Put an item into the queue and update the last_updated attribute with curernt time.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>_queue.SimpleQueue</dt>
                                <dd id="ThreadQueue.empty" class="function">empty</dd>
                <dd id="ThreadQueue.get" class="function">get</dd>
                <dd id="ThreadQueue.get_nowait" class="function">get_nowait</dd>
                <dd id="ThreadQueue.put_nowait" class="function">put_nowait</dd>
                <dd id="ThreadQueue.qsize" class="function">qsize</dd>

            </div>
                                </dl>
                            </div>
                </section>
    </main>
</body>
</html>